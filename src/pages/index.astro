---
import PasswordQuality from "@/components/PasswordQuality.astro";
import ShowPassword from "@/components/ShowPassword.astro";
import Layout from "../layouts/Layout.astro";
---

<Layout title="Welcome to Astro.">
	<h1>Forms</h1>
	<form method="post">
		<label>
			<span>Name</span>
			<input type="text" name="name" inputmode="text" autocomplete="name" aria-required="true" />
			<p data-hint-text>Your full name, including any middle names</p>
		</label>

		<label>
			<span>Email</span>
			<input type="email" name="email" inputmode="email" autocomplete="email" aria-required="true" />
		</label>

		<label>
			<span>Password</span>
			<ShowPassword>
				<input type="password" name="password" inputmode="text" autocomplete="new-password" aria-required="true" />
			</ShowPassword>
			<PasswordQuality />
		</label>

		<label>
			<span>Password confirmation</span>
			<input type="password" name="confirmPassword" inputmode="text" autocomplete="new-password" aria-required="true" />
		</label>

		<button type="submit">Submit</button>
	</form>
</Layout>

<script>
	import { actions } from "astro:actions";

	const form = document.querySelector("form");
	form?.addEventListener("submit", (event) => {
		event.preventDefault();
		const formData = new FormData(form);
    actions.signup(formData);
	})
</script>

<style>
	main {
		inline-size: 70rem;
		margin-inline: auto;
		padding-block: 10rem;
	}
	h1 {
		text-align: center;
		margin-bottom: 2rem;
	}

	form > * + * {
		margin-top: 2rem;
	}

	form {
		inline-size: 30rem;
		margin-inline: auto;
	}
</style>
